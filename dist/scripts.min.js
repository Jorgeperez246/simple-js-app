let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(t){"object"==typeof t&&"detailsUrl"in t?e.push(t):console.log("pokemon is not correct")}function n(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("button");o.innerText=e.name,t.appendChild(o),o.classList.add("list-group-item","list-group-item-action","text-center"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#exampleModal"),o.addEventListener("click",t=>{i(e)})}function i(e){a(e).then(function(){console.log(e),l(e)})}function a(e){let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)})}).catch(e=>{console.error(e)})}function l(e){let t=$(".modal-body"),o=$(".modal-title");$(".modal-header");o.empty(),t.empty();let n=$("<h1>"+e.name+"</h1>"),i=document.createElement("img");i.classList.add("modal-img"),i.src=e.imageUrl;let a=$("<p>height: "+e.height+"</p>"),l=$("<p>types: "+e.types+"</p>");o.append(n),t.append(i),t.append(a),t.append(l)}return{add:o,getAll:function(){return e},addListItem:n,showDetails:i,loadList:function(){return fetch(t).then(e=>e.json()).then(e=>{e.results.forEach(e=>{o({name:e.name,detailsUrl:e.url})})}).catch(e=>{console.error(e)})},loadDetails:a,showModal:l,findPokemon:function(t){$(".pokemon-list").empty(),e.forEach(e=>{e.name.toLowerCase().includes(t.toLowerCase())&&n(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});